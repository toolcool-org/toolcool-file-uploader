/* 
Tool Cool File Uploader - Multi PDF Preview Plugin
Version: 0.0.1
Documentation: https://github.com/toolcool-org/toolcool-file-uploader
License:    
Author: Tool Cool, toolcool.org@gmail.com>                          
*/
(()=>{var b=(o,i,t)=>new Promise((n,l)=>{var d=r=>{try{u(t.next(r))}catch(e){l(e)}},f=r=>{try{u(t.throw(r))}catch(e){l(e)}},u=r=>r.done?n(r.value):Promise.resolve(r.value).then(d,f);u((t=t.apply(o,i)).next())});var M=`<svg 
  xmlns="http://www.w3.org/2000/svg" 
  width="20"
  height="20"
  fill="none" 
  stroke="currentColor" 
  stroke-linecap="round" 
  stroke-linejoin="round" 
  stroke-width="1.5" 
  viewBox="0 0 24 24">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M18 6 6 18M6 6l12 12"/>
</svg>`,E=o=>{let i,t=[],n,l,d,f=()=>{var e;if(!!i){(e=i.$uploadPanel)==null||e.classList.remove("hidden"),n==null||n.classList.add("hidden");for(let a of t)URL.revokeObjectURL(a.url),a.$box.remove();t=[],i.$fileInput&&(i.$fileInput.value="")}},u=()=>{!i||o.uploadCallback&&typeof o.uploadCallback=="function"&&o.uploadCallback({files:t.map(e=>e.file)})},r=e=>{let s=e.currentTarget.parentElement;if(!s)return;let m=t.findIndex(c=>c.$box===s);m!==-1&&(t.splice(m,1),s.remove(),t.length<=0&&f())};return{id:"MultiImagePreviewPlugin",title:"Multi Image Preview Plugin",extensions:["pdf"],mimeTypes:["application/pdf"],upload:e=>b(void 0,null,function*(){var s;if(i=e,n=i.$uploader.querySelector('[data-tc="preview-panel"]'),!n)return;(s=i.$uploadPanel)==null||s.classList.add("hidden"),n==null||n.classList.remove("hidden"),l=n.querySelector('[data-tc="cancel-preview-btn"]'),l==null||l.addEventListener("click",f),d=n.querySelector('[data-tc="upload-btn"]'),d==null||d.addEventListener("click",u);let a=n.querySelector('[data-tc="preview"]');for(let m of i.files){let c=document.createElement("div");c.classList.add("tcfu-file-box");let p=document.createElement("button");p.type="button",p.classList.add("tcfu-remove-btn"),p.innerHTML=M,c.append(p),p.addEventListener("click",r);let v=document.createElement("embed"),L=URL.createObjectURL(m);v.src=L,c.append(v),t.push({$box:c,file:m,url:L}),a==null||a.append(c)}o.previewCallback&&typeof o.previewCallback=="function"&&o.previewCallback({files:e.files})}),destroy:()=>{for(let e of t)URL.revokeObjectURL(e.url),e.$box.remove();t=[],l==null||l.removeEventListener("click",f),d==null||d.removeEventListener("click",u),i=void 0,n=void 0,l=void 0,d=void 0}}};window.tcfuMultiPDFPreviewPlugin=E;var P=E;})();
//# sourceMappingURL=tcfu-multi-pdf-preview.min.js.map
