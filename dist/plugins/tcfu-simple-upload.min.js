/* 
Tool Cool File Uploader - Simple Upload Plugin
Version: 0.0.1
Documentation: https://github.com/toolcool-org/toolcool-file-uploader
License:    
Author: Tool Cool, toolcool.org@gmail.com>                          
*/
(()=>{var L=(a,l,t)=>new Promise((n,i)=>{var o=d=>{try{c(t.next(d))}catch(e){i(e)}},f=d=>{try{c(t.throw(d))}catch(e){i(e)}},c=d=>d.done?n(d.value):Promise.resolve(d.value).then(o,f);c((t=t.apply(a,l)).next())});var b=`<svg 
  xmlns="http://www.w3.org/2000/svg" 
  width="20"
  height="20"
  fill="none" 
  stroke="currentColor" 
  stroke-linecap="round" 
  stroke-linejoin="round" 
  stroke-width="1.5" 
  viewBox="0 0 24 24">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M18 6 6 18M6 6l12 12"/>
</svg>`,E=a=>{let l,t=[],n,i,o,f=()=>{var e;if(!!l){(e=l.$uploadPanel)==null||e.classList.remove("hidden"),n==null||n.classList.add("hidden");for(let s of t)s.$box.remove();t=[],l.$fileInput&&(l.$fileInput.value="")}},c=()=>{!l||a.uploadCallback&&typeof a.uploadCallback=="function"&&a.uploadCallback({files:t.map(e=>e.file)})},d=e=>{let u=e.currentTarget.parentElement;if(!u)return;let p=t.findIndex(r=>r.$box===u);p!==-1&&(t.splice(p,1),u.remove(),t.length<=0&&f())};return{id:"SimpleUploadPlugin",title:"Simple Upload Plugin",extensions:["*"],mimeTypes:["*"],upload:e=>L(void 0,null,function*(){var u;if(l=e,n=l.$uploader.querySelector('[data-tc="preview-panel"]'),!n)return;(u=l.$uploadPanel)==null||u.classList.add("hidden"),n==null||n.classList.remove("hidden"),i=n.querySelector('[data-tc="cancel-preview-btn"]'),i==null||i.addEventListener("click",f),o=n.querySelector('[data-tc="upload-btn"]'),o==null||o.addEventListener("click",c);let s=n.querySelector('[data-tc="preview"]');for(let p of l.files){let r=document.createElement("div");r.classList.add("tcfu-file-box");let m=document.createElement("button");m.type="button",m.classList.add("tcfu-remove-btn"),m.innerHTML=b,m.addEventListener("click",d),r.append(m);let v=document.createElement("span");v.textContent=p.name,r.append(v),t.push({$box:r,file:p}),s==null||s.append(r)}a.previewCallback&&typeof a.previewCallback=="function"&&a.previewCallback({files:e.files})}),destroy:()=>{for(let e of t)e.$box.remove();t=[],i==null||i.removeEventListener("click",f),o==null||o.removeEventListener("click",c),l=void 0,n=void 0,i=void 0,o=void 0}}};window.tcfuSimpleUploadPlugin=E;var T=E;})();
//# sourceMappingURL=tcfu-simple-upload.min.js.map
