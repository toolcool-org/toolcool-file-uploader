/* 
Tool Cool File Uploader - Multi Image Preview Plugin
Version: 0.0.1
Documentation: https://github.com/toolcool-org/toolcool-file-uploader
License:    
Author: Tool Cool, toolcool.org@gmail.com>                          
*/
(()=>{var s=(r,d,a)=>new Promise((i,n)=>{var t=e=>{try{m(a.next(e))}catch(l){n(l)}},o=e=>{try{m(a.throw(e))}catch(l){n(l)}},m=e=>e.done?i(e.value):Promise.resolve(e.value).then(t,o);m((a=a.apply(r,d)).next())});var u=r=>!isNaN(parseFloat(r))&&isFinite(r);var f=r=>new Promise((d,a)=>{let i=new Image;i.crossOrigin="Anonymous",i.onerror=t=>a(t),i.onload=t=>{let{width:o,height:m}=t.target;d({$image:i,width:o,height:m})};let n=new FileReader;n.onerror=t=>a(t),n.onload=()=>{i.src=n.result},n.readAsDataURL(r)}),g=r=>{let d,a,i,n,t,o=()=>{var e;!d||((e=d.$uploadPanel)==null||e.classList.remove("hidden"),i==null||i.classList.add("hidden"),a==null||a.$image.remove(),a=void 0)},m=()=>{!d||r.uploadCallback&&typeof r.uploadCallback=="function"&&r.uploadCallback({files:d.files})};return{id:"MultiImagePreviewPlugin",title:"Multi Image Preview Plugin",extensions:["jpg","jpeg","png","apng","gif","avif","svg","webp"],mimeTypes:["image/jpeg","image/png","image/apng","image/avif","image/svg+xml","image/webp"],validate:(e,l)=>s(void 0,null,function*(){try{a=yield f(l)}catch(c){return{isValid:!1,message:"Invalid image."}}return u(e.maxWidth)&&a.width>e.maxWidth?{isValid:!1,message:`The image width should not be more than ${e.maxWidth} pixels.`}:u(e.maxHeight)&&a.height>e.maxHeight?{isValid:!1,message:`The image height should not be more than ${e.maxHeight} pixels.`}:{isValid:!0,message:""}}),upload:e=>s(void 0,null,function*(){var l;d=e,i=d.$uploader.querySelector('[data-tc="preview-panel"]'),i&&((l=d.$uploadPanel)==null||l.classList.add("hidden"),i==null||i.classList.remove("hidden"),n=i.querySelector('[data-tc="cancel-preview-btn"]'),n==null||n.addEventListener("click",o),t=i.querySelector('[data-tc="upload-btn"]'),t==null||t.addEventListener("click",m))}),destroy:()=>{var e;try{(e=a==null?void 0:a.$image)==null||e.remove()}catch(l){}n==null||n.removeEventListener("click",o),t==null||t.removeEventListener("click",m),d=void 0,a=void 0,i=void 0,n=void 0,t=void 0}}};window.tcfuImagePreviewPlugin=g;var b=g;})();
//# sourceMappingURL=tcfu-multi-image-preview.min.js.map
